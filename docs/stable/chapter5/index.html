<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Node-RED installeren · RASPIKIDS</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="RASPIKIDS logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">RASPIKIDS</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Toepassingen met de Raspberry Pi</a></li><li><a class="tocitem" href="../blog/">Blog</a></li><li><span class="tocitem">Sectie 1 - Basis installaties</span><ul><li><a class="tocitem" href="../chapter1/">Micro SD-kaartje klaarmaken voor de Raspberry Pi 3B+</a></li><li><a class="tocitem" href="../chapter2/">Communiceren met de Raspberry Pi</a></li><li><a class="tocitem" href="../chapter3/">Docker installeren</a></li><li><a class="tocitem" href="../chapter4/">Portainer installeren</a></li><li class="is-active"><a class="tocitem" href>Node-RED installeren</a><ul class="internal"><li><a class="tocitem" href="#Wat-je-nodig-hebt"><span>Wat je nodig hebt</span></a></li><li><a class="tocitem" href="#Wat-je-gaat-doen"><span>Wat je gaat doen</span></a></li><li><a class="tocitem" href="#Stap-1:-Inloggen-op-Portainer-en-naar-Stacks-gaan"><span>Stap 1: Inloggen op Portainer en naar Stacks gaan</span></a></li><li><a class="tocitem" href="#Stap-2:-De-docker-compose.yml-gegevens-naar-het-klembord-kopieren"><span>Stap 2: De docker-compose.yml gegevens naar het klembord kopieren</span></a></li><li><a class="tocitem" href="#Stap-3:-De-docker-compose.yml-in-de-stack-plakken"><span>Stap 3: De docker-compose.yml in de stack plakken</span></a></li><li><a class="tocitem" href="#Samenvatting"><span>Samenvatting</span></a></li></ul></li></ul></li><li><span class="tocitem">Sectie 2 - Algemene Node-RED toepassingen</span><ul><li><a class="tocitem" href="../chapter6/">Website bouwen met Node-RED</a></li></ul></li><li><span class="tocitem">Sectie 3 - Sensoren</span><ul><li><a class="tocitem" href="../chapter7/">MQTT broker installeren</a></li><li><a class="tocitem" href="../chapter8/">Temperatuur meten</a></li><li><a class="tocitem" href="../chapter9/">Node-RED dashboard programma maken</a></li></ul></li><li><span class="tocitem">Sectie 4 - Slimme meter</span><ul><li><a class="tocitem" href="../chapter10/">Domoticz installeren</a></li><li><a class="tocitem" href="../chapter11/">Slimme meter aansluiten</a></li><li><a class="tocitem" href="../chapter12/">Stroom- en gasverbruik op het dashboard weergeven</a></li></ul></li><li><span class="tocitem">Sectie 5 - InfluxDB en Grafana</span><ul><li><a class="tocitem" href="../chapter12/">Grafana en InfluxDB installeren</a></li><li><a class="tocitem" href="../chapter13/">Gegevens opslaan in Influx met Node-RED</a></li><li><a class="tocitem" href="../chapter14/">Gegevens grafisch weergeven met Grafana</a></li></ul></li><li><a class="tocitem" href="../appendix/">Bijlage</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Sectie 1 - Basis installaties</a></li><li class="is-active"><a href>Node-RED installeren</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Node-RED installeren</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rbontekoe/RASPIKIDS/blob/master/docs/src/chapter5.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id=".-Node-RED-installeren"><a class="docs-heading-anchor" href="#.-Node-RED-installeren">5. Node-RED installeren</a><a id=".-Node-RED-installeren-1"></a><a class="docs-heading-anchor-permalink" href="#.-Node-RED-installeren" title="Permalink"></a></h1><p><em>In deze les gaan we leren hoe je Node-RED installeert in een container met behulp van Portainer op een Raspberry Pi met het besturingssysteem Ubuntu 22.04 Server. Portainer is een programma dat het makkelijker maakt om containers te beheren. Node-RED is een tool die je helpt bij het maken van slimme toepassingen door middel van eenvoudige programma&#39;s die we &quot;flows&quot; noemen.</em></p><h3 id="Inhoud"><a class="docs-heading-anchor" href="#Inhoud">Inhoud</a><a id="Inhoud-1"></a><a class="docs-heading-anchor-permalink" href="#Inhoud" title="Permalink"></a></h3><ul><li><a href="#.-Node-RED-installeren">5. Node-RED installeren</a></li><li class="no-marker"><ul><li><a href="#Wat-je-nodig-hebt">Wat je nodig hebt</a></li><li><a href="#Wat-je-gaat-doen">Wat je gaat doen</a></li><li><a href="#Stap-1:-Inloggen-op-Portainer-en-naar-Stacks-gaan">Stap 1: Inloggen op Portainer en naar Stacks gaan</a></li><li><a href="#Stap-2:-De-docker-compose.yml-gegevens-naar-het-klembord-kopieren">Stap 2: De docker-compose.yml gegevens naar het klembord kopieren</a></li><li><a href="#Stap-3:-De-docker-compose.yml-in-de-stack-plakken">Stap 3: De docker-compose.yml in de stack plakken</a></li><li><a href="#Samenvatting">Samenvatting</a></li></ul></li></ul><h2 id="Wat-je-nodig-hebt"><a class="docs-heading-anchor" href="#Wat-je-nodig-hebt">Wat je nodig hebt</a><a id="Wat-je-nodig-hebt-1"></a><a class="docs-heading-anchor-permalink" href="#Wat-je-nodig-hebt" title="Permalink"></a></h2><ul><li>Een Raspberry Pi 3B+ met het besturingssysteem Ubuntu Server 22.04.</li><li>Docker en Portainer zijn geinstalleerd.</li><li>Een SSH verbinding met de Raspberry Pi vanuit je laptop.</li></ul><h2 id="Wat-je-gaat-doen"><a class="docs-heading-anchor" href="#Wat-je-gaat-doen">Wat je gaat doen</a><a id="Wat-je-gaat-doen-1"></a><a class="docs-heading-anchor-permalink" href="#Wat-je-gaat-doen" title="Permalink"></a></h2><p>We gaan gebruikmaken van Portainer om Node-RED te installeren. Dat doen we door een stack te maken met een docker-compose.yml bestand. Een docker-compose.yml bestand bevat de instructies voor Docker om een container te maken. </p><p>Het voordeel van een docker-compose.yml bestand is dat je er gemakkelijk voorbeelden van kan vinden op het Internet.</p><p>Stap 1: Inloggen op Portainer en naar Stacks gaan.</p><p>Stap 2: De docker-compose.yml gegevens naar het klembord kopieren.</p><p>Stap 3: De docker-compose.yml in de stack plakken.</p><p>Stap 4: De container gegevens verversen en bekijken.</p><h3 id="docker-compose.yml"><a class="docs-heading-anchor" href="#docker-compose.yml">docker-compose.yml</a><a id="docker-compose.yml-1"></a><a class="docs-heading-anchor-permalink" href="#docker-compose.yml" title="Permalink"></a></h3><pre><code class="nohighlight hljs">################################################################################
# https://nodered.org/docs/getting-started/docker
################################################################################
version: &quot;3.7&quot;

services:
  node-red:
    image: nodered/node-red:latest
    environment:
      - TZ=Europe/Amsterdam
    ports:
      - &quot;1880:1880&quot;
    networks:
      - node-red-net
    volumes:
      - node-red-data:/data

volumes:
  node-red-data:

networks:
  node-red-net:</code></pre><p>Dit is een bestand dat Docker gebruikt om een container met Node-RED te maken. Het haalt het image (nodered/node-red:latest) van het internet van <a href="https://hub.docker.com/">Docker Hub</a>. <code>latest</code> geeft aan dat we altijd de nieuwste versie gebruiken. De tijdzone (TZ=Europe/Amsterdam) staat op die van Amsterdam. We geven ook toegang tot het programma vanaf de Raspberry Pi via poort 1880. Ook maken we op de Raspberry Pi een plek node-red-data om gegevens op te slaan.</p><p>Een computerpoort is net zoals een loket in het gemeentehuis. Als je iets wilt regelen bij de gemeente, ga je naar het loket. Dit is de plek waar je iets kunt aanvragen of afgeven, zoals een vergunning of een formulier.</p><p>Net zoals elk loket in het gemeentehuis een specifieke functie heeft, hebben poorten op een computer een specifieke functie. Deze functies zijn vergelijkbaar met die van een specifiek programma in een container. Bijvoorbeeld poort 1880 op de Raspberry Pi die is toegewezen aan Node-RED kan worden gebruikt voor het verzenden en ontvangen van data tussen Node-RED en een andere computer.</p><h2 id="Stap-1:-Inloggen-op-Portainer-en-naar-Stacks-gaan"><a class="docs-heading-anchor" href="#Stap-1:-Inloggen-op-Portainer-en-naar-Stacks-gaan">Stap 1: Inloggen op Portainer en naar Stacks gaan</a><a id="Stap-1:-Inloggen-op-Portainer-en-naar-Stacks-gaan-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-1:-Inloggen-op-Portainer-en-naar-Stacks-gaan" title="Permalink"></a></h2><p>Je gaat met behulp van Portainer een stack maken voor de Node-RED container. Een stack staat beschreven wat de container moet doen en heet meestal docker-compose.yml. Het beschrijft wat het image is dat gebruikt moet worden. Een image is te vergelijken met een template. Veel images met name van bekende programma&#39;s vind je op <a href="https://hub.docker.com/">Docker Hub</a> een soort algemene bibliotheek. </p><table><tr><th style="text-align: left">Stap</th><th style="text-align: left">Actie</th><th style="text-align: left">Opmerking</th></tr><tr><td style="text-align: left">1</td><td style="text-align: left">Type: ssh IP-adres<em>Raspberry</em>Pi:9000</td><td style="text-align: left">Dit zorgt dat je Portainer in je browser opent.</td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">Klik op &#39;stacks&quot;</td><td style="text-align: left">Hierdoor opent het menu.</td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Klik in het menu op Stack</td><td style="text-align: left">Hierdoor zie je een overzicht van de stacks.</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td><td style="text-align: left"></td></tr></table><h2 id="Stap-2:-De-docker-compose.yml-gegevens-naar-het-klembord-kopieren"><a class="docs-heading-anchor" href="#Stap-2:-De-docker-compose.yml-gegevens-naar-het-klembord-kopieren">Stap 2: De docker-compose.yml gegevens naar het klembord kopieren</a><a id="Stap-2:-De-docker-compose.yml-gegevens-naar-het-klembord-kopieren-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-2:-De-docker-compose.yml-gegevens-naar-het-klembord-kopieren" title="Permalink"></a></h2><p>Je gaat de tekst uit het bestand &quot;docker-compose.yml&quot; kopiëren naar het klembord..</p><table><tr><th style="text-align: left">Stap</th><th style="text-align: left">Actie</th><th style="text-align: left">Opmerking</th></tr><tr><td style="text-align: left">1</td><td style="text-align: left">Klik op de link: <a href="#docker-compose.yml">docker-compose.yml</a></td><td style="text-align: left">Hier staat de code die je nodig hebt.</td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">Selecteer alle tekst met je muis</td><td style="text-align: left">Regels die beginnen met &quot;#&quot; zijn commentaarregels en hoef je niet te selecteren.</td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Druk op <code>Ctrl-C</code></td><td style="text-align: left">Dit kopieert de tekst naar het klembord.</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td><td style="text-align: left"></td></tr></table><h2 id="Stap-3:-De-docker-compose.yml-in-de-stack-plakken"><a class="docs-heading-anchor" href="#Stap-3:-De-docker-compose.yml-in-de-stack-plakken">Stap 3: De docker-compose.yml in de stack plakken</a><a id="Stap-3:-De-docker-compose.yml-in-de-stack-plakken-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-3:-De-docker-compose.yml-in-de-stack-plakken" title="Permalink"></a></h2><p>In deze stap ga je een pagina maken waarin je de gegevens van de stack vermeldt.</p><table><tr><th style="text-align: left">Stap</th><th style="text-align: left">Actie</th><th style="text-align: left">Opmerking</th></tr><tr><td style="text-align: left">1</td><td style="text-align: left">Klik op de knop <code>Add stack</code></td><td style="text-align: left"></td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">Type <code>nodered</code> in het veld &quot;Name&quot;</td><td style="text-align: left">Geef de stack een naam.</td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Klik op de eerste regel in het veld &quot;Web-editor&quot;</td><td style="text-align: left">Hier komt de tekst uit docker-compose.yml te staan.</td></tr><tr><td style="text-align: left">5</td><td style="text-align: left">Druk op <code>Ctrl-V</code></td><td style="text-align: left">Plak de tekst van het klembord in het veld.</td></tr><tr><td style="text-align: left">6</td><td style="text-align: left">Klik op de knop &quot;Deploy the stack&quot;</td><td style="text-align: left">De knop staat helemaal onderaan de pagina.</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td><td style="text-align: left"></td></tr></table><h2 id="Samenvatting"><a class="docs-heading-anchor" href="#Samenvatting">Samenvatting</a><a id="Samenvatting-1"></a><a class="docs-heading-anchor-permalink" href="#Samenvatting" title="Permalink"></a></h2><p>Node-RED is een computerprogramma dat je kunt gebruiken om dingen te maken door blokjes aan elkaar te koppelen. Zo kun je bijvoorbeeld een website maken zonder dat je veel code hoeft te schrijven. We gebruiken een programma genaamd Portainer om Node-RED te installeren op een Raspberry Pi met Ubuntu. We maken een stack (een beschrijving voor Docker) en kopiëren deze in een bestand genaamd docker-compose.yml. Hierin staat beschreven hoe de container gemaakt moet worden. Zo kun je makkelijk Node-RED gebruiken zonder veel technische kennis.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../chapter4/">« Portainer installeren</a><a class="docs-footer-nextpage" href="../chapter6/">Website bouwen met Node-RED »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 9 February 2023 10:52">Thursday 9 February 2023</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
