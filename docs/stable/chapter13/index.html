<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Grafana en InfluxDB installeren · RASPIKIDS</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="RASPIKIDS logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">RASPIKIDS</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Toepassingen met de Raspberry Pi</a></li><li><a class="tocitem" href="../blog/">Blog</a></li><li><span class="tocitem">Sectie 1 - Basis installaties</span><ul><li><a class="tocitem" href="../chapter1/">Micro SD-kaartje klaarmaken voor de Raspberry Pi 3B+</a></li><li><a class="tocitem" href="../chapter2/">Communiceren met de Raspberry Pi</a></li><li><a class="tocitem" href="../chapter3/">Docker installeren</a></li><li><a class="tocitem" href="../chapter4/">Portainer installeren</a></li><li><a class="tocitem" href="../chapter5/">Node-RED installeren</a></li></ul></li><li><span class="tocitem">Sectie 2 - Algemene Node-RED toepassingen</span><ul><li><a class="tocitem" href="../chapter6/">Website bouwen met Node-RED</a></li></ul></li><li><span class="tocitem">Sectie 3 - Sensoren</span><ul><li><a class="tocitem" href="../chapter7/">MQTT broker installeren</a></li><li><a class="tocitem" href="../chapter8/">Temperatuur meten</a></li><li><a class="tocitem" href="../chapter9/">Node-RED dashboard programma maken</a></li></ul></li><li><span class="tocitem">Sectie 4 - Slimme meter</span><ul><li><a class="tocitem" href="../chapter10/">Domoticz installeren</a></li><li><a class="tocitem" href="../chapter11/">Slimme meter aansluiten</a></li><li><a class="tocitem" href="../chapter12/">Stroom- en gasverbruik op het dashboard weergeven</a></li></ul></li><li><span class="tocitem">Sectie 5 - InfluxDB en Grafana</span><ul><li class="is-active"><a class="tocitem" href>Grafana en InfluxDB installeren</a><ul class="internal"><li><a class="tocitem" href="#Wat-je-nodig-hebt"><span>Wat je nodig hebt</span></a></li><li><a class="tocitem" href="#Wat-je-gaat-doen"><span>Wat je gaat doen</span></a></li><li><a class="tocitem" href="#Stap-1-Stack-met-Grafana-en-Influxdb-maken"><span>Stap 1 - Stack met Grafana en Influxdb maken</span></a></li><li><a class="tocitem" href="#Stap-2-Wachtwoord-Grafana-wijzigen"><span>Stap 2 - Wachtwoord Grafana wijzigen</span></a></li><li><a class="tocitem" href="#Stap-3-Grafana-aan-InfluxDB-koppelen"><span>Stap 3 - Grafana aan InfluxDB koppelen</span></a></li><li><a class="tocitem" href="#Stap-4-Sensor_data-database-maken"><span>Stap 4 - Sensor_data database maken</span></a></li><li><a class="tocitem" href="#Samenvatting"><span>Samenvatting</span></a></li></ul></li><li><a class="tocitem" href="../chapter14/">Gegevens opslaan in Influx met Node-RED</a></li><li><a class="tocitem" href="../chapter15/">Gegevens grafisch weergeven met Grafana</a></li></ul></li><li><a class="tocitem" href="../appendix/">Bijlage</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Sectie 5 - InfluxDB en Grafana</a></li><li class="is-active"><a href>Grafana en InfluxDB installeren</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Grafana en InfluxDB installeren</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rbontekoe/RASPIKIDS/blob/master/docs/src/chapter13.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Grafana-en-InfluxDB-containers-installeren"><a class="docs-heading-anchor" href="#Grafana-en-InfluxDB-containers-installeren">Grafana en InfluxDB containers installeren</a><a id="Grafana-en-InfluxDB-containers-installeren-1"></a><a class="docs-heading-anchor-permalink" href="#Grafana-en-InfluxDB-containers-installeren" title="Permalink"></a></h1><p>*Grafana is een programma dat je kunt gebruiken om gegevens te visualiseren. Stel je voor dat je een lijst hebt met getallen, zoals de temperatuur in een kamer gedurende een dag. Met Grafana kun je deze getallen op een grafiek zetten, zodat je gemakkelijk kunt zien hoe de temperatuur is veranderd gedurende de dag. Zo kun je bijvoorbeeld zien of de temperatuur is gestegen of gedaald, en hoeveel.</p><p>InfluxDB is een programma waarmee je gegevens kunt opslaan en beheren. Stel je voor dat je een lijst hebt met getallen, zoals de temperatuur in een kamer gedurende een week. Met InfluxDB kun je deze getallen opslaan, zodat je ze later weer kunt bekijken. Zo kun je bijvoorbeeld zien hoe de temperatuur is veranderd gedurende een week, en hoeveel.</p><p>Grafana en InfluxDB worden vaak samen gebruikt. Met Grafana kun je de gegevens die in InfluxDB zijn opgeslagen visualiseren, zodat je ze gemakkelijk kunt begrijpen en analyseren. Bijvoorbeeld, als je de temperatuur in een kamer wilt bekijken gedurende een week, kun je de gegevens van de temperatuur in InfluxDB opslaan.*</p><h3 id="Inhoud"><a class="docs-heading-anchor" href="#Inhoud">Inhoud</a><a id="Inhoud-1"></a><a class="docs-heading-anchor-permalink" href="#Inhoud" title="Permalink"></a></h3><ul><li><a href="#Grafana-en-InfluxDB-containers-installeren">Grafana en InfluxDB containers installeren</a></li><li class="no-marker"><ul><li><a href="#Wat-je-nodig-hebt">Wat je nodig hebt</a></li><li><a href="#Wat-je-gaat-doen">Wat je gaat doen</a></li><li><a href="#Stap-1-Stack-met-Grafana-en-Influxdb-maken">Stap 1 - Stack met Grafana en Influxdb maken</a></li><li><a href="#Stap-2-Wachtwoord-Grafana-wijzigen">Stap 2 - Wachtwoord Grafana wijzigen</a></li><li><a href="#Stap-3-Grafana-aan-InfluxDB-koppelen">Stap 3 - Grafana aan InfluxDB koppelen</a></li><li><a href="#Stap-4-Sensor_data-database-maken">Stap 4 - Sensor_data database maken</a></li><li><a href="#Samenvatting">Samenvatting</a></li></ul></li></ul><h2 id="Wat-je-nodig-hebt"><a class="docs-heading-anchor" href="#Wat-je-nodig-hebt">Wat je nodig hebt</a><a id="Wat-je-nodig-hebt-1"></a><a class="docs-heading-anchor-permalink" href="#Wat-je-nodig-hebt" title="Permalink"></a></h2><h2 id="Wat-je-gaat-doen"><a class="docs-heading-anchor" href="#Wat-je-gaat-doen">Wat je gaat doen</a><a id="Wat-je-gaat-doen-1"></a><a class="docs-heading-anchor-permalink" href="#Wat-je-gaat-doen" title="Permalink"></a></h2><p>Stap 1: Stack met Grafana en Influxdb maken.</p><p>Stap 2: Wachtwoord Grafana wijzigen.</p><p>Stap 3: Grafana aan InfluxDB koppelen.</p><p>Stap 4: Sensor_data database maken.</p><h2 id="Stap-1-Stack-met-Grafana-en-Influxdb-maken"><a class="docs-heading-anchor" href="#Stap-1-Stack-met-Grafana-en-Influxdb-maken">Stap 1 - Stack met Grafana en Influxdb maken</a><a id="Stap-1-Stack-met-Grafana-en-Influxdb-maken-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-1-Stack-met-Grafana-en-Influxdb-maken" title="Permalink"></a></h2><h3 id="docker-compose.yml"><a class="docs-heading-anchor" href="#docker-compose.yml">docker-compose.yml</a><a id="docker-compose.yml-1"></a><a class="docs-heading-anchor-permalink" href="#docker-compose.yml" title="Permalink"></a></h3><pre><code class="nohighlight hljs">version: &#39;3.6&#39;

services:
  grafana:
    container_name: grafana
    image: grafana/grafana
    restart: unless-stopped
    user: &quot;0&quot;
    ports:
    - &quot;3000:3000&quot;
    environment:
    - TZ=Etc/UTC
    - GF_PATHS_DATA=/var/lib/grafana
    - GF_PATHS_LOGS=/var/log/grafana
    volumes:
    - ./volumes/grafana/data:/var/lib/grafana
    - ./volumes/grafana/log:/var/log/grafana
    healthcheck:
      test: [&quot;CMD&quot;, &quot;wget&quot;, &quot;-O&quot;, &quot;/dev/null&quot;, &quot;http://localhost:3000&quot;]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

  influxdb:
    container_name: influxdb
    image: &quot;influxdb:1.8&quot;
    restart: unless-stopped
    ports:
    - &quot;8086:8086&quot;
    environment:
    - TZ=Etc/UTC
    - INFLUXDB_HTTP_FLUX_ENABLED=false
    - INFLUXDB_REPORTING_DISABLED=false
    - INFLUXDB_HTTP_AUTH_ENABLED=false
    - INFLUXDB_MONITOR_STORE_ENABLED=FALSE
  # - INFLUX_USERNAME=dba
  # - INFLUX_PASSWORD=supremo
  # - INFLUXDB_UDP_ENABLED=false
  # - INFLUXDB_UDP_BIND_ADDRESS=0.0.0.0:8086
  # - INFLUXDB_UDP_DATABASE=udp
    volumes:
    - ./volumes/influxdb/data:/var/lib/influxdb
    - ./backups/influxdb/db:/var/lib/influxdb/backup
    healthcheck:
      test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;http://localhost:8086&quot;]
      interval: 30s
      timeout: 10s
      retries: 3

      start_period: 30s</code></pre><h2 id="Stap-2-Wachtwoord-Grafana-wijzigen"><a class="docs-heading-anchor" href="#Stap-2-Wachtwoord-Grafana-wijzigen">Stap 2 - Wachtwoord Grafana wijzigen</a><a id="Stap-2-Wachtwoord-Grafana-wijzigen-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-2-Wachtwoord-Grafana-wijzigen" title="Permalink"></a></h2><p>De standaard gebruikers naam en het wachtwoord zijn respectievelijk admin/admin. Als je daarmee inlogt wordt er gevraag of je wachtwoord wilt veranderen.</p><p><img src="../assets/fig_13_1.png" alt="fig_13_1"/></p><h2 id="Stap-3-Grafana-aan-InfluxDB-koppelen"><a class="docs-heading-anchor" href="#Stap-3-Grafana-aan-InfluxDB-koppelen">Stap 3 - Grafana aan InfluxDB koppelen</a><a id="Stap-3-Grafana-aan-InfluxDB-koppelen-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-3-Grafana-aan-InfluxDB-koppelen" title="Permalink"></a></h2><p><img src="../assets/fig_13_2.png" alt="fig_13_2"/></p><p><img src="../assets/fig_13_3.png" alt="fig_13_3"/></p><p><img src="../assets/fig_13_4.png" alt="fig_13_4"/></p><h2 id="Stap-4-Sensor_data-database-maken"><a class="docs-heading-anchor" href="#Stap-4-Sensor_data-database-maken">Stap 4 - Sensor_data database maken</a><a id="Stap-4-Sensor_data-database-maken-1"></a><a class="docs-heading-anchor-permalink" href="#Stap-4-Sensor_data-database-maken" title="Permalink"></a></h2><h2 id="Samenvatting"><a class="docs-heading-anchor" href="#Samenvatting">Samenvatting</a><a id="Samenvatting-1"></a><a class="docs-heading-anchor-permalink" href="#Samenvatting" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../chapter12/">« Stroom- en gasverbruik op het dashboard weergeven</a><a class="docs-footer-nextpage" href="../chapter14/">Gegevens opslaan in Influx met Node-RED »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 23 February 2023 13:22">Thursday 23 February 2023</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
